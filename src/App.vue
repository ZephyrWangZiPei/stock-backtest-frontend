<template>
  <div id="app">
    <router-view />
  </div>
</template>

<script setup lang="ts">
import { onMounted, onUnmounted } from 'vue'
import { useWebSocket } from '@/composables/useWebSocket'

// ä½¿ç”¨WebSocket composable
const {
  initWebSockets,
  cleanupWebSockets
} = useWebSocket()

// å¯ç”¨ Element Plus æš—é»‘ä¸»é¢˜
onMounted(() => {
  // ä¸?html å…ƒç´ æ·»åŠ æš—é»‘ä¸»é¢˜ç±?  document.documentElement.classList.add('dark')
  
  // åˆå§‹åŒ–WebSocketè¿æ¥
  console.log('ğŸš€ åº”ç”¨å¯åŠ¨ï¼Œåˆå§‹åŒ–WebSocketè¿æ¥...')
  initWebSockets()
})

onUnmounted(() => {
  // æ¸…ç†WebSocketè¿æ¥
  console.log('ğŸ”Œ åº”ç”¨å¸è½½ï¼Œæ¸…ç†WebSocketè¿æ¥...')
  cleanupWebSockets()
})
</script>

<style>
/* åŸºç¡€é‡ç½®æ ·å¼ */
body, html, #app {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  box-sizing: border-box;
  overflow: auto;
}

/* åº”ç”¨å®¹å™¨ */
#app {
  font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100vh;
    width: 100vw;
}

/* ç®€æ´çš„æ»šåŠ¨æ¡æ ·å¼?*/
* {
  scrollbar-width: thin;
}

*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background: var(--el-border-color);
  border-radius: 4px;
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--el-border-color-hover);
}

/* åŸºç¡€å·¥å…·ç±?*/
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
</style>
